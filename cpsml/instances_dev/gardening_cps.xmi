<?xml version="1.0" encoding="UTF-8"?>
<cpsml:CPS xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:cpsml="http://big.tuwien.ac.at/cpsml"
    xsi:schemaLocation="http://big.tuwien.ac.at/cpsml ../model/cpsml.ecore"
    name="gardening">
  <environment
      name="balcony">
    <node name="smartPot">
      <subscription
          messageBroker="//@messageBroker.0">
        <topics>lighting</topics>
      </subscription>
      <publication
          messageBroker="//@messageBroker.0">
        <topics>watering</topics>
      </publication>
      <connectionModule
          xsi:type="cpsml:WirelessModule"
          name="SMARTPOT_WL"
          connect="//@messageBroker.0/@connectionModule.0"
          range="5.0">
        <supportedProtocols>DDS</supportedProtocols>
      </connectionModule>
      <position
          x="2.0"
          y="1.0"
          z="1.0"/>
      <component
          xsi:type="cpsml:Sensor"
          name="soilMoisture"
          topic="watering"
          frequency="1.0"/>
      <component
          xsi:type="cpsml:Actuator"
          name="light"
          topic="lighting"/>
    </node>
  </environment>
  <messageBroker
      name="mb1">
    <connectionModule
        xsi:type="cpsml:WirelessModule"
        name="MB1"
        connectOpposite="//@environment.0/@node.0/@connectionModule.0"
        range="10.0">
      <supportedProtocols>DDS</supportedProtocols>
    </connectionModule>
    <position/>
    <topics>watering</topics>
    <topics>lighting</topics>
  </messageBroker>
  <controller
      name="c1"
      description="avoids disaster">
    <subscription
        messageBroker="//@messageBroker.0">
      <topics>watering</topics>
    </subscription>
    <publication
        messageBroker="//@messageBroker.0">
      <topics>lighting</topics>
    </publication>
    <topics>watering</topics>
    <topics>lighting</topics>
  </controller>
</cpsml:CPS>
